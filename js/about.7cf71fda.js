"use strict";(self["webpackChunkpwa_shadcn"]=self["webpackChunkpwa_shadcn"]||[]).push([[594],{6793:function(e,l){var a;(function(e){e["SUCCESS"]="SUCCESS",e["USER_ALREADY_EXISTS"]="USER_ALREADY_EXISTS",e["ERROR"]="ERROR"})(a||(a={})),l.A=a},9934:function(e,l,a){a.d(l,{i:function(){return t},k:function(){return o}});var s=a(8538),r=a(6793);const t=async(e,l)=>{const a=await s.A.post("/auth/login",{mail:e,password:l}),{user:r}=a.data;return r},o=async e=>{try{const l=await s.A.post("/auth/register",{mail:e.mail,password:e.password,name:e.name});if(201===l.status||200===l.status)return r.A.SUCCESS}catch(l){return 409===l.response?.status?r.A.USER_ALREADY_EXISTS:r.A.ERROR}return r.A.ERROR}},4212:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});a(4114);var s=a(6768),r=a(144),t=a(5130),o=a(8333),n=a(6338),i=a(5531),u=a(3425),c=a(9934),d=a(1104);const f={class:"bg-gradient-to-t from-teal-200 to-teal-500 flex flex-row items-center justify-center min-h-screen"},m={class:"flex flex-col gap-2"},p={class:"flex flex-row gap-2 items-center"},v={class:"flex flex-row gap-2 items-center"},w={class:"flex flex-col gap-2"};var k=(0,s.pM)({__name:"LoginView",setup(e){const l=(0,r.KR)({mail:"",password:""}),a=async()=>{try{if(""===l.value.mail||""===l.value.password)return void(0,d.A)("error","Please fill all the fields");console.log(l.value);const e=await(0,c.i)(l.value.mail,l.value.password);localStorage.setItem("user",JSON.stringify(e)),u.A.push({name:"home"})}catch(e){(0,d.A)("error","Login failed")}};return(e,u)=>{const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("main",f,[(0,s.bF)((0,r.R1)(o.A),{class:"sm:w-full sm:h-full md:w-1/2 md:h-1/2 lg:w-1/3 lg:h-1/3"},{title:(0,s.k6)((()=>u[2]||(u[2]=[(0,s.Lk)("h2",{class:"text-center pb-4"},"Login",-1)]))),content:(0,s.k6)((()=>[(0,s.Lk)("div",m,[(0,s.Lk)("div",p,[u[3]||(u[3]=(0,s.Lk)("li",{class:"pi pi-user"},null,-1)),(0,s.bF)((0,r.R1)(n.A),{type:"email","model-value":l.value.mail,"onUpdate:modelValue":u[0]||(u[0]=e=>l.value.mail=e),placeholder:"email",class:"w-full"},null,8,["model-value"])]),(0,s.Lk)("div",v,[u[4]||(u[4]=(0,s.Lk)("li",{class:"pi pi-key"},null,-1)),(0,s.bF)((0,r.R1)(n.A),{"model-value":l.value.password,"onUpdate:modelValue":u[1]||(u[1]=e=>l.value.password=e),placeholder:"password",class:"w-full",type:"password"},null,8,["model-value"])])])])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",w,[(0,s.bF)((0,r.R1)(i.A),{onClick:(0,t.D$)(a,["prevent"])},{default:(0,s.k6)((()=>u[5]||(u[5]=[(0,s.eW)(" Login ")]))),_:1}),(0,s.bF)(c,{class:"flex flex-row-reverse w-full text-teal-500 font-bold hover:cursor-pointer",replace:"",to:{name:"register",params:{username:"erina"}}},{default:(0,s.k6)((()=>u[6]||(u[6]=[(0,s.eW)(" Register here! ")]))),_:1})])])),_:1})])}}});const A=k;var g=A},5980:function(e,l,a){a.r(l),a.d(l,{default:function(){return x}});var s=a(6768),r=a(144),t=a(5130),o=a(8333),n=a(6338),i=a(5531),u=a(1387),c=a(1104),d=a(9934),f=a(6793);const m={class:"bg-gradient-to-t from-teal-200 to-teal-500 flex flex-row items-center justify-center min-h-screen"},p={class:"flex flex-col gap-2"},v={class:"flex flex-row gap-2 items-center"},w={class:"flex flex-row gap-2 items-center"},k={class:"flex flex-row gap-2 items-center"},A={class:"flex flex-col gap-2"},g={class:"flex flex-row items-end justify-end gap-2 w-full"};var R=(0,s.pM)({__name:"RegistroView",setup(e){const l=(0,r.KR)({name:"",mail:"",password:""}),a=async()=>{const e=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;if(!l.value.mail||e.test(l.value.mail))if(l.value.name&&l.value.mail&&l.value.password)try{const e=await(0,d.k)(l.value);if(e==f.A.SUCCESS)return(0,c.A)("Success","User registered successfully"),void(window.location.href="/login");if(e===f.A.USER_ALREADY_EXISTS)return void(0,c.A)("Error","User already exists")}catch(a){const e=a;(0,c.A)("Error",`${e}`)}else(0,c.A)("Error","All fields are required");else(0,c.A)("Error","Invalid email format")};return(e,c)=>((0,s.uX)(),(0,s.CE)("main",m,[(0,s.bF)((0,r.R1)(o.A),{class:"xs:w-full xs:h-full sm:w-full sm:h-full md:w-1/2 md:h-1/2 lg:w-1/3 lg:h-1/3"},{title:(0,s.k6)((()=>c[3]||(c[3]=[(0,s.Lk)("h2",{class:"text-center pb-4"},"Login",-1)]))),content:(0,s.k6)((()=>[(0,s.Lk)("div",p,[(0,s.Lk)("div",v,[c[4]||(c[4]=(0,s.Lk)("li",{class:"pi pi-user"},null,-1)),(0,s.bF)((0,r.R1)(n.A),{"model-value":l.value.name,"onUpdate:modelValue":c[0]||(c[0]=e=>l.value.name=e),placeholder:"Name",class:"w-full"},null,8,["model-value"])]),(0,s.Lk)("div",w,[c[5]||(c[5]=(0,s.Lk)("li",{class:"pi pi-envelope"},null,-1)),(0,s.bF)((0,r.R1)(n.A),{"model-value":l.value.mail,"onUpdate:modelValue":c[1]||(c[1]=e=>l.value.mail=e),placeholder:"email",class:"w-full"},null,8,["model-value"])]),(0,s.Lk)("div",k,[c[6]||(c[6]=(0,s.Lk)("li",{class:"pi pi-key"},null,-1)),(0,s.bF)((0,r.R1)(n.A),{"model-value":l.value.password,"onUpdate:modelValue":c[2]||(c[2]=e=>l.value.password=e),placeholder:"password",class:"w-full",type:"password"},null,8,["model-value"])])])])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",A,[(0,s.bF)((0,r.R1)(i.A),{onClick:(0,t.D$)(a,["prevent"])},{default:(0,s.k6)((()=>c[7]||(c[7]=[(0,s.eW)(" Register ")]))),_:1}),(0,s.Lk)("div",g,[c[9]||(c[9]=(0,s.Lk)("p",null,"Have an account?",-1)),(0,s.bF)((0,r.R1)(u.Wk),{replace:"",class:"text-teal-500 font-bold hover:cursor-pointer",to:{name:"login",params:{username:"erina"}}},{default:(0,s.k6)((()=>c[8]||(c[8]=[(0,s.eW)(" Login here ")]))),_:1})])])])),_:1})]))}});const h=R;var x=h}}]);
//# sourceMappingURL=about.7cf71fda.js.map