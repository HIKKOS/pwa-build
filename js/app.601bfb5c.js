(function(){"use strict";var e={8538:function(e,t,a){var l=a(4373);const n="https://pwa-back-production.up.railway.app/api",o=l.A.create({baseURL:n,headers:{"Content-Type":"application/json"}});t.A=o},6854:function(e,t,a){var l=a(5130),n=a(6768);function o(e,t){const a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(a)}var r=a(1241);const i={},u=(0,r.A)(i,[["render",o]]);var s=u,c=a(4458);(0,c.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=a(3425),f=a(7440),p=a(288),v=a(8928);const m=(0,l.Ef)(s);m.use(d.A),m.use(v.A),m.use(f.Ay,{theme:{preset:p.A,options:{darkModeSelector:"light"}}}),m.mount("#app")},3425:function(e,t,a){a.d(t,{A:function(){return G}});var l=a(1387),n=(a(8992),a(8872),a(6768)),o=a(144),r=a(5130),i=a(4232),u=a(478),s=a(8441),c=a(8301),d=a(373),f=a(8333),p=a(2160),v=a(797),m=a(6338),b=a(5531),y=a(6776),k=a(8538);const g=async()=>{const e=await k.A.get("/products"),{products:t}=e.data;return console.log(t),t},h=async e=>{const t=await k.A.post("/products",e),{newProduct:a}=t.data;return a},w=async(e,t)=>{const a=await k.A.put(`/products/${e}`,t),{updatedProduct:l}=a.data;return l},A=async e=>{await k.A.delete(`/products/${e}`)};var x=a(1104);const R={class:"flex items-center gap-4 mb-4"},F={class:"flex items-center gap-4 mb-4"},L={class:"flex items-center gap-4 mb-4"},C={class:"flex items-center gap-4 mb-4"},j={class:"flex justify-center gap-4"},_={class:"flex items-center gap-4 mb-4"},E={class:"flex items-center gap-4 mb-4"},P={class:"flex items-center gap-4 mb-4"},V={class:"flex items-center gap-4 mb-4"},q={class:"flex justify-center gap-4"},O={class:"flex flex-col justify-center gap-4"},N={class:"flex flex-row gap-2"},U={class:"bg-teal-400"},S={class:"flex justify-between w-full bg-teal-500 text-white p-4"},X={class:"md:items-center md:w-auto flex"},$={class:"flex text-sm gap-2"},D={class:"p-2"},T={class:"flex flex-row items-start w-full gap-4 mb-4"},K={key:1,class:"text-5xl font-bold text-teal-500 text-center"},M={key:1,class:"text-5xl font-bold text-teal-500 text-center"},W={key:0,class:"w-full flex flex-row items-center justify-center"},B={key:1};var I=(0,n.pM)({__name:"HomeView",setup(e){const t=(0,o.KR)(null),a=(0,n.EW)((()=>l.value?.length)),l=(0,o.KR)(null),k=(0,o.KR)(!1),I=(0,o.KR)(!1),H=(0,o.KR)(!1),Q=(0,o.KR)(null),Y=()=>{localStorage.removeItem("user"),window.location.href="/"},z=e=>{Q.value={...e},H.value=!0},G=async()=>{Q.value&&(H.value=!1,await w(Q.value.id,Q.value),(0,x.A)("Product updated",`Product ${Q.value.name} has been updated`),window.location.reload())},J=e=>{Q.value=e,I.value=!0},Z=async()=>{Q.value&&(await A(Q.value.id),(0,x.A)("Product deleted",`Product ${Q.value.name} has been deleted`),window.location.reload())},ee=()=>{Q.value={id:-1,name:"",description:"",quantity:"",price:"",image:""},k.value=!0},te=async()=>{Q.value&&(k.value=!1,await h(Q.value),(0,x.A)("Product created",`Product ${Q.value.name} has been created`),window.location.reload())};return(0,n.sV)((async()=>{const e=await g();t.value=e.reduce(((e,t)=>e+Number(t.quantity)),0),l.value=e})),(e,g)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)((0,o.R1)(s.A)),(0,n.bF)((0,o.R1)(u.A),{visible:k.value,"onUpdate:visible":g[5]||(g[5]=e=>k.value=e),modal:"",header:"Create product",style:{width:"25rem"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",R,[g[14]||(g[14]=(0,n.Lk)("label",{for:"name",class:"font-semibold w-24"},"Name",-1)),(0,n.bF)((0,o.R1)(m.A),{modelValue:Q.value.name,"onUpdate:modelValue":g[0]||(g[0]=e=>Q.value.name=e),id:"name",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),(0,n.Lk)("div",F,[g[15]||(g[15]=(0,n.Lk)("label",{for:"description",class:"font-semibold w-24"},"description",-1)),(0,n.bF)((0,o.R1)(m.A),{modelValue:Q.value.description,"onUpdate:modelValue":g[1]||(g[1]=e=>Q.value.description=e),id:"description",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),(0,n.Lk)("div",L,[g[16]||(g[16]=(0,n.Lk)("label",{for:"quantity",class:"font-semibold w-24"},"quantity",-1)),(0,n.bF)((0,o.R1)(m.A),{modelValue:Q.value.quantity,"onUpdate:modelValue":g[2]||(g[2]=e=>Q.value.quantity=e),type:"number",id:"quantity",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),(0,n.Lk)("div",C,[g[17]||(g[17]=(0,n.Lk)("label",{for:"price",class:"font-semibold w-24"},"price",-1)),(0,n.bF)((0,o.R1)(m.A),{modelValue:Q.value.price,"onUpdate:modelValue":g[3]||(g[3]=e=>Q.value.price=e),type:"number",id:"price",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),(0,n.Lk)("div",j,[(0,n.bF)((0,o.R1)(b.A),{class:"w-1/2",severity:"secondary",label:"Cancel",onClick:g[4]||(g[4]=(0,r.D$)((()=>k.value=!1),["prevent"]))}),(0,n.bF)((0,o.R1)(b.A),{onClick:(0,r.D$)(te,["prevent"]),class:"w-1/2",label:"Create"})])])),_:1},8,["visible"]),(0,n.bF)((0,o.R1)(u.A),{visible:H.value,"onUpdate:visible":g[11]||(g[11]=e=>H.value=e),modal:"",header:"Edit product",style:{width:"25rem"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",_,[g[18]||(g[18]=(0,n.Lk)("label",{for:"name",class:"font-semibold w-24"},"Name",-1)),(0,n.bF)((0,o.R1)(m.A),{"model-value":Q.value.name,"onUpdate:modelValue":g[6]||(g[6]=e=>Q.value.name=e),id:"name",class:"flex-auto",autocomplete:"off"},null,8,["model-value"])]),(0,n.Lk)("div",E,[g[19]||(g[19]=(0,n.Lk)("label",{for:"description",class:"font-semibold w-24"},"description",-1)),(0,n.bF)((0,o.R1)(m.A),{"model-value":Q.value.description,"onUpdate:modelValue":g[7]||(g[7]=e=>Q.value.description=e),id:"description",class:"flex-auto",autocomplete:"off"},null,8,["model-value"])]),(0,n.Lk)("div",P,[g[20]||(g[20]=(0,n.Lk)("label",{for:"quantity",class:"font-semibold w-24"},"quantity",-1)),(0,n.bF)((0,o.R1)(m.A),{"model-value":Q.value.quantity,"onUpdate:modelValue":g[8]||(g[8]=e=>Q.value.quantity=e),type:"number",id:"quantity",class:"flex-auto",autocomplete:"off"},null,8,["model-value"])]),(0,n.Lk)("div",V,[g[21]||(g[21]=(0,n.Lk)("label",{for:"price",class:"font-semibold w-24"},"price",-1)),(0,n.bF)((0,o.R1)(m.A),{"model-value":Q.value.price,"onUpdate:modelValue":g[9]||(g[9]=e=>Q.value.price=e),type:"number",id:"price",class:"flex-auto",autocomplete:"off"},null,8,["model-value"])]),(0,n.Lk)("div",q,[(0,n.bF)((0,o.R1)(b.A),{class:"w-1/2",severity:"secondary",label:"Cancel",onClick:g[10]||(g[10]=()=>k.value=!1)}),(0,n.bF)((0,o.R1)(b.A),{severity:"warn",onClick:G,class:"w-1/2",label:"Edit"})])])),_:1},8,["visible"]),(0,n.bF)((0,o.R1)(u.A),{visible:I.value,"onUpdate:visible":g[13]||(g[13]=e=>I.value=e),modal:"",header:"Delete product",style:{width:"25rem"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",O,[(0,n.Lk)("h2",null,"Are you sure you want to delete "+(0,i.v_)(Q.value?.name)+"?",1),(0,n.Lk)("div",N,[(0,n.bF)((0,o.R1)(b.A),{class:"w-1/2",severity:"secondary",label:"Cancel",onClick:g[12]||(g[12]=()=>I.value=!1)}),(0,n.bF)((0,o.R1)(b.A),{onClick:Z,severity:"danger",class:"w-1/2",label:"Delete"})])])])),_:1},8,["visible"]),(0,n.Lk)("header",U,[(0,n.Lk)("nav",S,[g[23]||(g[23]=(0,n.Lk)("a",{href:"#"},[(0,n.Lk)("span",{class:"font-semibold text-2xl tracking-tight"},"Mis productos")],-1)),(0,n.Lk)("div",X,[(0,n.Lk)("div",$,[(0,n.bF)((0,o.R1)(b.A),{severity:"secondary",onClick:(0,r.D$)(ee,["prevent"])},{default:(0,n.k6)((()=>g[22]||(g[22]=[(0,n.Lk)("span",{class:"text-teal-500"},"Agregar",-1)]))),_:1}),(0,n.bF)((0,o.R1)(b.A),{label:"logout",severity:"warn",onClick:(0,r.D$)(Y,["prevent"])})])])])]),(0,n.Lk)("main",D,[(0,n.Lk)("div",T,[(0,n.bF)((0,o.R1)(f.A),{class:"w-1/2"},{content:(0,n.k6)((()=>[null===a.value?((0,n.uX)(),(0,n.Wv)((0,o.R1)(y.A),{key:0,width:"10rem",height:"1rem"})):((0,n.uX)(),(0,n.CE)("p",K,(0,i.v_)(a.value),1))])),footer:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(p.A)),g[24]||(g[24]=(0,n.Lk)("p",null,"Producto(s) registrado(s)",-1))])),_:1}),(0,n.bF)((0,o.R1)(f.A),{class:"w-1/2"},{content:(0,n.k6)((()=>[null===t.value?((0,n.uX)(),(0,n.Wv)((0,o.R1)(y.A),{key:0,width:"10rem",height:"1rem"})):((0,n.uX)(),(0,n.CE)("p",M,(0,i.v_)(t.value),1))])),footer:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(p.A)),g[25]||(g[25]=(0,n.Lk)("p",null,"Producto(s) restante(s)",-1))])),_:1}),g[26]||(g[26]=(0,n.Lk)("div",null,null,-1))]),null===l.value?((0,n.uX)(),(0,n.CE)("div",W,[(0,n.bF)((0,o.R1)(v.A))])):0===l.value.length?((0,n.uX)(),(0,n.CE)("h2",B,"Sin productos")):((0,n.uX)(),(0,n.Wv)((0,o.R1)(f.A),{key:2},{content:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(c.A),{value:l.value,tableStyle:"min-width: 50rem"},{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(d.A),{field:"name",header:"Name"}),(0,n.bF)((0,o.R1)(d.A),{field:"description",header:"Description"}),(0,n.bF)((0,o.R1)(d.A),{field:"quantity",header:"Quantity"}),(0,n.bF)((0,o.R1)(d.A),{field:"price",header:"Price"}),(0,n.bF)((0,o.R1)(d.A),{header:"Actions",class:"flex flex-row items-center gap-2 justify-start"},{body:(0,n.k6)((e=>[(0,n.bF)((0,o.R1)(b.A),{onClick:t=>z(e.data),severity:"secondary",icon:"pi pi-pencil",class:"w-1/4 p-mr-2",label:"Edit"},null,8,["onClick"]),(0,n.bF)((0,o.R1)(b.A),{severity:"danger",icon:"pi pi-trash",class:"w-1/4",label:"Delete",onClick:t=>J(e.data)},null,8,["onClick"])])),_:1})])),_:1},8,["value"])])),_:1}))])],64))}});const H=I;var Q=H;const Y=[{path:"/",name:"home",component:Q},{path:"/login",name:"login",component:()=>a.e(594).then(a.bind(a,4212))},{path:"/register",name:"register",component:()=>a.e(594).then(a.bind(a,5980))}],z=(0,l.aE)({history:(0,l.LA)("/"),routes:Y});z.beforeEach(((e,t,a)=>{const l=["/login","/register"],n=!l.includes(e.path),o=localStorage.getItem("user");if(n&&!o)return a("/login");a()}));var G=z},1104:function(e,t){const a=(e,t)=>{Notification.requestPermission().then((a=>{"granted"===a?new Notification(e,{body:t}):alert("You need to allow notifications")}))};t.A=a}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,u=0;u<l.length;u++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[u])}))?l.splice(u--,1):(i=!1,o<r&&(r=o));if(i){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,l){return a.f[l](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.7cf71fda.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="pwa-shadcn:";a.l=function(l,n,o,r){if(e[l])e[l].push(n);else{var i,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==l||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=l),e[l]=[n];var f=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var n=e[l];if(delete e[l],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,l){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)l.push(n[2]);else{var o=new Promise((function(a,l){n=e[t]=[a,l]}));l.push(n[2]=o);var r=a.p+a.u(t),i=new Error,u=function(l){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=l&&("load"===l.type?"missing":l.type),r=l&&l.target&&l.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,n[1](i)}};a.l(r,u,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,r=l[0],i=l[1],u=l[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(u)var c=u(a)}for(t&&t(l);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self["webpackChunkpwa_shadcn"]=self["webpackChunkpwa_shadcn"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(6854)}));l=a.O(l)})();
//# sourceMappingURL=app.601bfb5c.js.map